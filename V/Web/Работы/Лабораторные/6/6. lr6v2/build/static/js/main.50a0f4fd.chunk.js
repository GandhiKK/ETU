(this.webpackJsonplab6=this.webpackJsonplab6||[]).push([[0],{33:function(e,t,n){e.exports=n(74)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},70:function(e,t){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a,l=n(0),r=n.n(l),s=n(31),c=n.n(s),o=(n(38),n(2)),u=n(3),i=n(5),m=n(4),h=n(6),E=(n(39),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.props.login},r.a.createElement("p",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"),r.a.createElement("p",{id:"warning"},this.props.message),r.a.createElement("input",{name:"name"}),r.a.createElement("p",null,r.a.createElement("button",{id:"a"},"\u0412\u043e\u0439\u0442\u0438")," ")))}}]),t}(r.a.Component)),p=(n(40),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Admin"},r.a.createElement("nav",{className:"one"},r.a.createElement("ul",null,r.a.createElement("li",null," Admin "),r.a.createElement("li",{id:"b",onClick:this.props.start_torgs}," \u041d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u0438 "))),r.a.createElement("div",{className:"brokers"},function(e){for(var t=[],n=0;n<e.length;n++){var a=[];a.push(r.a.createElement("p",null," \u0418\u043c\u044f: ",e[n].name," ")),a.push(r.a.createElement("p",null," \u0417\u0430\u043f\u0430\u0441 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0442\u0440\u0435\u0434\u0441\u0442\u0432: ",e[n].money," "));var l=[];l.push(r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement("th",null,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement("th",null,"\u043d\u0430 \u0442\u043e\u0440\u0433\u0430\u0445"),r.a.createElement("th",null,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c")));for(var s=0;s<e[n].stocks.length;s++)l.push(r.a.createElement("tr",null,r.a.createElement("td",null,s),r.a.createElement("td",null,e[n].stocks[s]),r.a.createElement("td",null,e[n].price[s]),r.a.createElement("td",null,e[n].ontorg_stocks[s]),r.a.createElement("td",null,e[n].ontorg_price[s])));a.push(r.a.createElement("table",null,l)),t.push(r.a.createElement("div",{className:"broker",key:e[n].id}," ",a))}return r.a.createElement("div",null,t)}(this.props.brokers)))}}]),t}(r.a.Component)),g=(n(41),0),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).sell=function(e){if(console.log(n.state.index,n.state.count,n.state.username),n.state.index>n.state.stocks.length)console.log(n.state.index,">",n.state.stocks.length);else{for(var t=n.state.brokers,a=0;a<t.length;a++)if(t[a].name===n.state.username&&n.state.count>t[a].stocks[n.state.index])return;n.props.sell(n.props.username,n.state.index,n.state.count)}},n.buy=function(e){console.log("\u0437\u0430\u0448\u0435\u043b");var t=n.state.brokers;if(n.state.index>n.state.stocks.length)console.log("\u043f\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0443");else{for(var a=0;a<t.length;a++)if(t[a].name===n.state.username){if(n.state.count>n.state.stocks[n.state.index].in_torg)return console.log("\u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443"),console.log(n.state.index),void console.log(n.state.stocks[n.state.index].in_torg);if(t[a].money<n.state.stocks[n.state.index].price*n.state.count)return void console.log("\u0434\u0435\u043d\u044f\u043a \u043d\u0435\u0442")}console.log("!!!"),n.props.buy(n.props.username,n.state.index,n.state.count)}},n.get_index=function(e){n.setState({index:Number(e.target.value)})},n.get_count=function(e){n.setState({count:Number(e.target.value)})},n.state={username:e.username,brokers:e.brokers,stocks:e.stocks,count:0,index:0,pr:0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"User"},r.a.createElement("nav",{className:"one"},r.a.createElement("ul",null,r.a.createElement("li",null,this.props.username),r.a.createElement("li",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442: ",g))),r.a.createElement("div",{className:"brokers"},this.get_info(this.props.username,this.props.brokers)),r.a.createElement("div",{className:"torgs"},this.get_torgs(this.props.stocks)),r.a.createElement("div",{className:"broker"},r.a.createElement("p",null," \u041f\u0440\u043e\u0434\u0430\u0442\u044c "),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e")),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{onChange:this.get_index})),r.a.createElement("th",null,r.a.createElement("input",{onChange:this.get_count})))),r.a.createElement("button",{onClick:this.sell}," + ")),r.a.createElement("div",{className:"broker"},r.a.createElement("p",null," \u041a\u0443\u043f\u0438\u0442\u044c "),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e")),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{onChange:this.get_index})),r.a.createElement("th",null,r.a.createElement("input",{onChange:this.get_count})))),r.a.createElement("button",{onClick:this.buy}," + ")))}},{key:"get_info",value:function(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e){var a=[];g=t[n].money-t[n].start_money,a.push(r.a.createElement("p",null," \u0417\u0430\u043f\u0430\u0441 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0442\u0440\u0435\u0434\u0441\u0442\u0432: ",t[n].money," "));var l=[];l.push(r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement("th",null,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement("th",null,"\u043d\u0430 \u0442\u043e\u0440\u0433\u0430\u0445"),r.a.createElement("th",null,"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c")));for(var s=0;s<t[n].stocks.length;s++)l.push(r.a.createElement("tr",null,r.a.createElement("td",null,s),r.a.createElement("td",null,t[n].stocks[s]),r.a.createElement("td",null,t[n].price[s]),r.a.createElement("td",null," ",t[n].ontorg_stocks[s]," "),r.a.createElement("td",null,t[n].ontorg_price[s])));return a.push(r.a.createElement("table",null,l)),r.a.createElement("div",{className:"broker"},a)}}},{key:"get_torgs",value:function(e){var t=[];t.push(r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement("th",null,"\u0446\u0435\u043d\u0430")));for(var n=0;n<e.length;n++)t.push(r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,e[n].in_torg),r.a.createElement("td",null,e[n].price)));return r.a.createElement("div",{className:"broker",id:"tt"},r.a.createElement("p",null," \u0410\u043a\u0446\u0438\u0438 \u043d\u0430 \u0442\u043e\u0440\u0433\u0430\u0445"),r.a.createElement("table",null,t))}}]),t}(r.a.Component),b=n(32),f=(n(73),function(e){function t(){var e,n;Object(o.a)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"Nobody",stocks:null,brokers:null,start_exchange:!1,message:""},n.login=function(e){e.preventDefault();var t=e.target.elements.name.value;console.log(t),(a=b("http://localhost:8080")).on("connect",(function(){a.emit("login",{name:t})})),a.on("welcome",(function(e){n.setState({username:e.uname,message:e.message})})),a.on("update",(function(e){n.setState({stocks:e.stocks,brokers:e.persons})})),a.on("start_ex",(function(e){n.setState({start_exchange:!0}),console.log(n.state.username,n.state.start_exchange)}))},n.start_torgs=function(){a.emit("start")},n.sell=function(e,t,n){a.emit("sell",{name:e,index:t,count:n})},n.buy=function(e,t,n){console.log(e,t,n),a.emit("buy",{name:e,index:t,count:n})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.get_content())}},{key:"get_content",value:function(){return"Nobody"===this.state.username?r.a.createElement(E,{login:this.login,message:this.state.message}):"admin"===this.state.username?r.a.createElement(p,{brokers:this.state.brokers,start_torgs:this.start_torgs}):r.a.createElement(d,{brokers:this.state.brokers,username:this.state.username,stocks:this.state.stocks,sell:this.sell,buy:this.buy})}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.50a0f4fd.chunk.js.map